{
  "info": {
    "name": "Patient Record System - Complete API Tests",
    "description": "Comprehensive Postman collection covering 100% of all API endpoints with complete test coverage",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication Tests",
      "item": [
        {
          "name": "Register Doctor - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 201', () => {",
                  "  pm.response.to.have.status(201);",
                  "});",
                  "pm.test('Response is successful', () => {",
                  "  pm.expect(pm.response.json().success).to.be.true;",
                  "});",
                  "pm.test('Token is returned', () => {",
                  "  pm.expect(pm.response.json().token).to.be.a('string');",
                  "  pm.expect(pm.response.json().token.split('.').length).to.equal(3);",
                  "});",
                  "pm.test('Password not returned in response', () => {",
                  "  pm.expect(pm.response.json().data).not.to.have.property('password');",
                  "});",
                  "pm.test('Doctor created as active', () => {",
                  "  pm.expect(pm.response.json().data.isActive).to.be.true;",
                  "});",
                  "pm.collectionVariables.set('doctorToken', pm.response.json().token);",
                  "pm.collectionVariables.set('doctorId', pm.response.json().data.id);"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"name\\\": \\\"Dr. John Smith\\\",\\n  \\\"email\\\": \\\"john.smith@hospital.com\\\",\\n  \\\"password\\\": \\\"password123\\\",\\n  \\\"specialization\\\": \\\"Cardiology\\\",\\n  \\\"licenseNumber\\\": \\\"LIC123456\\\",\\n  \\\"phone\\\": \\\"+1234567890\\\"\\n}",
              "type": "application/json"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "register"]
            }
          }
        },
        {
          "name": "Register - Invalid Email",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 400', () => {",
                  "  pm.response.to.have.status(400);",
                  "});",
                  "pm.test('Response indicates failure', () => {",
                  "  pm.expect(pm.response.json().success).to.be.false;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"name\\\": \\\"Dr. Test\\\",\\n  \\\"email\\\": \\\"invalid-email\\\",\\n  \\\"password\\\": \\\"password123\\\",\\n  \\\"specialization\\\": \\\"General\\\",\\n  \\\"licenseNumber\\\": \\\"LIC999\\\",\\n  \\\"phone\\\": \\\"+1111111111\\\"\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "register"]
            }
          }
        },
        {
          "name": "Register - Short Password",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 400', () => {",
                  "  pm.response.to.have.status(400);",
                  "});",
                  "pm.test('Error message about password', () => {",
                  "  pm.expect(pm.response.json().message).to.include.any.keys(['password', 'length']);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"name\\\": \\\"Dr. Test\\\",\\n  \\\"email\\\": \\\"test@hospital.com\\\",\\n  \\\"password\\\": \\\"123\\\",\\n  \\\"specialization\\\": \\\"General\\\",\\n  \\\"licenseNumber\\\": \\\"LIC999\\\",\\n  \\\"phone\\\": \\\"+1111111111\\\"\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "register"]
            }
          }
        },
        {
          "name": "Register - Duplicate Email",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 400', () => {",
                  "  pm.response.to.have.status(400);",
                  "});",
                  "pm.test('Duplicate error message', () => {",
                  "  pm.expect(pm.response.json().message).to.include('already exists');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"name\\\": \\\"Dr. Duplicate\\\",\\n  \\\"email\\\": \\\"john.smith@hospital.com\\\",\\n  \\\"password\\\": \\\"password123\\\",\\n  \\\"specialization\\\": \\\"General\\\",\\n  \\\"licenseNumber\\\": \\\"LIC888\\\",\\n  \\\"phone\\\": \\\"+1111111111\\\"\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "register"]
            }
          }
        },
        {
          "name": "Login - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Response is successful', () => {",
                  "  pm.expect(pm.response.json().success).to.be.true;",
                  "});",
                  "pm.test('Valid JWT token returned', () => {",
                  "  pm.expect(pm.response.json().token).to.be.a('string');",
                  "  pm.expect(pm.response.json().token.split('.').length).to.equal(3);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"email\\\": \\\"john.smith@hospital.com\\\",\\n  \\\"password\\\": \\\"password123\\\"\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            }
          }
        },
        {
          "name": "Login - Invalid Credentials",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 401', () => {",
                  "  pm.response.to.have.status(401);",
                  "});",
                  "pm.test('Failure response', () => {",
                  "  pm.expect(pm.response.json().success).to.be.false;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"email\\\": \\\"john.smith@hospital.com\\\",\\n  \\\"password\\\": \\\"wrongpassword\\\"\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            }
          }
        },
        {
          "name": "Login - Missing Fields",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 400', () => {",
                  "  pm.response.to.have.status(400);",
                  "});",
                  "pm.test('Validation error', () => {",
                  "  pm.expect(pm.response.json().success).to.be.false;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"email\\\": \\\"john.smith@hospital.com\\\"\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            }
          }
        },
        {
          "name": "Get Current User (Me)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Returns complete doctor info', () => {",
                  "  const data = pm.response.json().data;",
                  "  pm.expect(data).to.have.all.keys('id', 'name', 'email', 'specialization', 'licenseNumber', 'phone', 'isActive');",
                  "});",
                  "pm.test('Password not included', () => {",
                  "  pm.expect(pm.response.json().data).not.to.have.property('password');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "me"]
            }
          }
        },
        {
          "name": "Get Me - Invalid Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 401', () => {",
                  "  pm.response.to.have.status(401);",
                  "});",
                  "pm.test('Unauthorized error', () => {",
                  "  pm.expect(pm.response.json().success).to.be.false;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer invalid.token.here"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "me"]
            }
          }
        },
        {
          "name": "Logout",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test('Status code is 200', () => {", "  pm.response.to.have.status(200);", "});"]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "logout"]
            }
          }
        }
      ]
    },
    {
      "name": "Patient Management Tests",
      "item": [
        {
          "name": "Create Patient",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 201', () => {",
                  "  pm.response.to.have.status(201);",
                  "});",
                  "pm.test('Patient created successfully', () => {",
                  "  pm.expect(pm.response.json().success).to.be.true;",
                  "});",
                  "pm.test('Patient has all required fields', () => {",
                  "  const data = pm.response.json().data;",
                  "  pm.expect(data).to.have.property('firstName');",
                  "  pm.expect(data).to.have.property('lastName');",
                  "  pm.expect(data).to.have.property('dateOfBirth');",
                  "  pm.expect(data).to.have.property('gender');",
                  "  pm.expect(data).to.have.property('phone');",
                  "  pm.expect(data).to.have.property('emergencyContact');",
                  "});",
                  "pm.test('RegisteredBy set to current doctor', () => {",
                  "  pm.expect(pm.response.json().data.registeredBy).to.exist;",
                  "});",
                  "pm.collectionVariables.set('patientId', pm.response.json().data._id);"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"firstName\\\": \\\"Jane\\\",\\n  \\\"lastName\\\": \\\"Doe\\\",\\n  \\\"dateOfBirth\\\": \\\"1990-05-15\\\",\\n  \\\"gender\\\": \\\"female\\\",\\n  \\\"phone\\\": \\\"+1234567890\\\",\\n  \\\"email\\\": \\\"jane@email.com\\\",\\n  \\\"bloodGroup\\\": \\\"O+\\\",\\n  \\\"emergencyContact\\\": {\\n    \\\"name\\\": \\\"John Doe\\\",\\n    \\\"relationship\\\": \\\"Spouse\\\",\\n    \\\"phone\\\": \\\"+0987654321\\\"\\n  }\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/patients",
              "host": ["{{baseUrl}}"],
              "path": ["api", "patients"]
            }
          }
        },
        {
          "name": "Create Patient - Invalid Email",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 400', () => {",
                  "  pm.response.to.have.status(400);",
                  "});",
                  "pm.test('Validation error', () => {",
                  "  pm.expect(pm.response.json().success).to.be.false;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"firstName\\\": \\\"Jane\\\",\\n  \\\"lastName\\\": \\\"Doe\\\",\\n  \\\"dateOfBirth\\\": \\\"1990-05-15\\\",\\n  \\\"gender\\\": \\\"female\\\",\\n  \\\"phone\\\": \\\"+1234567890\\\",\\n  \\\"email\\\": \\\"invalid-email\\\",\\n  \\\"bloodGroup\\\": \\\"O+\\\",\\n  \\\"emergencyContact\\\": {\\n    \\\"name\\\": \\\"John Doe\\\",\\n    \\\"phone\\\": \\\"+0987654321\\\"\\n  }\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/patients",
              "host": ["{{baseUrl}}"],
              "path": ["api", "patients"]
            }
          }
        },
        {
          "name": "Create Patient - Invalid Blood Group",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test('Status code is 400', () => {", "  pm.response.to.have.status(400);", "});"]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"firstName\\\": \\\"Jane\\\",\\n  \\\"lastName\\\": \\\"Doe\\\",\\n  \\\"dateOfBirth\\\": \\\"1990-05-15\\\",\\n  \\\"gender\\\": \\\"female\\\",\\n  \\\"phone\\\": \\\"+1234567890\\\",\\n  \\\"email\\\": \\\"jane@email.com\\\",\\n  \\\"bloodGroup\\\": \\\"Invalid\\\",\\n  \\\"emergencyContact\\\": {\\n    \\\"name\\\": \\\"John Doe\\\",\\n    \\\"phone\\\": \\\"+0987654321\\\"\\n  }\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/patients",
              "host": ["{{baseUrl}}"],
              "path": ["api", "patients"]
            }
          }
        },
        {
          "name": "Get Patient by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Returns all patient fields', () => {",
                  "  const data = pm.response.json().data;",
                  "  pm.expect(data).to.have.property('firstName');",
                  "  pm.expect(data).to.have.property('lastName');",
                  "  pm.expect(data).to.have.property('dateOfBirth');",
                  "  pm.expect(data).to.have.property('gender');",
                  "  pm.expect(data).to.have.property('phone');",
                  "  pm.expect(data).to.have.property('bloodGroup');",
                  "  pm.expect(data).to.have.property('emergencyContact');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/patients/{{patientId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "patients", "{{patientId}}"]
            }
          }
        },
        {
          "name": "Get Patient - Non-existent",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 404', () => {",
                  "  pm.response.to.have.status(404);",
                  "});",
                  "pm.test('Not found error', () => {",
                  "  pm.expect(pm.response.json().success).to.be.false;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/patients/507f1f77bcf86cd799439011",
              "host": ["{{baseUrl}}"],
              "path": ["api", "patients", "507f1f77bcf86cd799439011"]
            }
          }
        },
        {
          "name": "Update Patient",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Patient updated', () => {",
                  "  pm.expect(pm.response.json().data.phone).to.equal('+9999999999');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"phone\\\": \\\"+9999999999\\\"\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/patients/{{patientId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "patients", "{{patientId}}"]
            }
          }
        },
        {
          "name": "Update Emergency Contact",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Emergency contact updated', () => {",
                  "  pm.expect(pm.response.json().data.emergencyContact.name).to.equal('Jane Smith');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"emergencyContact\\\": {\\n    \\\"name\\\": \\\"Jane Smith\\\",\\n    \\\"relationship\\\": \\\"Sister\\\",\\n    \\\"phone\\\": \\\"+1111111111\\\"\\n  }\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/patients/{{patientId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "patients", "{{patientId}}"]
            }
          }
        },
        {
          "name": "Update Patient - Invalid Gender",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test('Status code is 400', () => {", "  pm.response.to.have.status(400);", "});"]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"gender\\\": \\\"invalid\\\"\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/patients/{{patientId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "patients", "{{patientId}}"]
            }
          }
        },
        {
          "name": "List All Patients",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Returns array of patients', () => {",
                  "  pm.expect(pm.response.json().data).to.be.an('array');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/patients",
              "host": ["{{baseUrl}}"],
              "path": ["api", "patients"]
            }
          }
        },
        {
          "name": "Search Patients by Name",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test('Status code is 200', () => {", "  pm.response.to.have.status(200);", "});"]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/patients?search=Jane",
              "host": ["{{baseUrl}}"],
              "path": ["api", "patients"],
              "query": [
                {
                  "key": "search",
                  "value": "Jane"
                }
              ]
            }
          }
        },
        {
          "name": "Paginate Patients",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Pagination metadata exists', () => {",
                  "  pm.expect(pm.response.json()).to.have.property('currentPage');",
                  "  pm.expect(pm.response.json()).to.have.property('totalPages');",
                  "  pm.expect(pm.response.json()).to.have.property('total');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/patients?page=1&limit=5",
              "host": ["{{baseUrl}}"],
              "path": ["api", "patients"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          }
        },
        {
          "name": "Delete Patient",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Patient deleted successfully', () => {",
                  "  pm.expect(pm.response.json().success).to.be.true;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/patients/{{patientId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "patients", "{{patientId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Medical Records Tests",
      "item": [
        {
          "name": "Create Medical Record",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 201', () => {",
                  "  pm.response.to.have.status(201);",
                  "});",
                  "pm.test('Record created with all fields', () => {",
                  "  const data = pm.response.json().data;",
                  "  pm.expect(data).to.have.property('chiefComplaint');",
                  "  pm.expect(data).to.have.property('diagnosis');",
                  "  pm.expect(data).to.have.property('vitalSigns');",
                  "  pm.expect(data).to.have.property('prescriptions');",
                  "});",
                  "pm.collectionVariables.set('recordId', pm.response.json().data._id);"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"patient\\\": \\\"{{patientId}}\\\",\\n  \\\"chiefComplaint\\\": \\\"Fever and headache\\\",\\n  \\\"diagnosis\\\": \\\"Viral infection\\\",\\n  \\\"symptoms\\\": [\\\"fever\\\", \\\"headache\\\"],\\n  \\\"vitalSigns\\\": {\\n    \\\"temperature\\\": 38.5,\\n    \\\"bloodPressure\\\": \\\"120/80\\\",\\n    \\\"heartRate\\\": 80\\n  },\\n  \\\"prescriptions\\\": [\\n    {\\n      \\\"medication\\\": \\\"Paracetamol\\\",\\n      \\\"dosage\\\": \\\"500mg\\\",\\n      \\\"frequency\\\": \\\"Twice daily\\\",\\n      \\\"duration\\\": \\\"5 days\\\"\\n    }\\n  ]\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/medical-records",
              "host": ["{{baseUrl}}"],
              "path": ["api", "medical-records"]
            }
          }
        },
        {
          "name": "Create Medical Record - Non-existent Patient",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 404', () => {",
                  "  pm.response.to.have.status(404);",
                  "});",
                  "pm.test('Patient not found error', () => {",
                  "  pm.expect(pm.response.json().message).to.include('Patient not found');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"patient\\\": \\\"507f1f77bcf86cd799439011\\\",\\n  \\\"chiefComplaint\\\": \\\"Fever\\\",\\n  \\\"diagnosis\\\": \\\"Infection\\\",\\n  \\\"vitalSigns\\\": {\\n    \\\"temperature\\\": 38.5,\\n    \\\"bloodPressure\\\": \\\"120/80\\\",\\n    \\\"heartRate\\\": 80\\n  },\\n  \\\"prescriptions\\\": []\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/medical-records",
              "host": ["{{baseUrl}}"],
              "path": ["api", "medical-records"]
            }
          }
        },
        {
          "name": "Get Medical Record by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Record contains all data', () => {",
                  "  const data = pm.response.json().data;",
                  "  pm.expect(data).to.have.property('_id');",
                  "  pm.expect(data).to.have.property('patient');",
                  "  pm.expect(data).to.have.property('doctor');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/medical-records/{{recordId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "medical-records", "{{recordId}}"]
            }
          }
        },
        {
          "name": "Get Medical Record - Non-existent",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test('Status code is 404', () => {", "  pm.response.to.have.status(404);", "});"]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/medical-records/507f1f77bcf86cd799439011",
              "host": ["{{baseUrl}}"],
              "path": ["api", "medical-records", "507f1f77bcf86cd799439011"]
            }
          }
        },
        {
          "name": "Update Medical Record Notes",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Notes updated', () => {",
                  "  pm.expect(pm.response.json().data.notes).to.exist;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"notes\\\": \\\"Patient recovering well, follow up in 2 weeks\\\"\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/medical-records/{{recordId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "medical-records", "{{recordId}}"]
            }
          }
        },
        {
          "name": "Update Medical Record Prescriptions",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test('Status code is 200', () => {", "  pm.response.to.have.status(200);", "});"]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"prescriptions\\\": [\\n    {\\n      \\\"medication\\\": \\\"Ibuprofen\\\",\\n      \\\"dosage\\\": \\\"400mg\\\",\\n      \\\"frequency\\\": \\\"Three times daily\\\",\\n      \\\"duration\\\": \\\"7 days\\\"\\n    }\\n  ]\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/medical-records/{{recordId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "medical-records", "{{recordId}}"]
            }
          }
        },
        {
          "name": "Get Patient Medical History",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('History includes patient and records', () => {",
                  "  const data = pm.response.json().data;",
                  "  pm.expect(data).to.have.property('patient');",
                  "  pm.expect(data).to.have.property('records');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/medical-records/patient/{{patientId}}/history",
              "host": ["{{baseUrl}}"],
              "path": ["api", "medical-records", "patient", "{{patientId}}", "history"]
            }
          }
        },
        {
          "name": "List All Medical Records",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Returns array of records', () => {",
                  "  pm.expect(pm.response.json().data).to.be.an('array');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/medical-records",
              "host": ["{{baseUrl}}"],
              "path": ["api", "medical-records"]
            }
          }
        },
        {
          "name": "Delete Medical Record",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test('Status code is 200', () => {", "  pm.response.to.have.status(200);", "});"]
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/medical-records/{{recordId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "medical-records", "{{recordId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Appointment Tests",
      "item": [
        {
          "name": "Create Appointment",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 201', () => {",
                  "  pm.response.to.have.status(201);",
                  "});",
                  "pm.test('Appointment created with details', () => {",
                  "  const data = pm.response.json().data;",
                  "  pm.expect(data).to.have.property('patient');",
                  "  pm.expect(data).to.have.property('doctor');",
                  "  pm.expect(data).to.have.property('appointmentDate');",
                  "  pm.expect(data).to.have.property('appointmentTime');",
                  "});",
                  "pm.collectionVariables.set('appointmentId', pm.response.json().data._id);"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"patient\\\": \\\"{{patientId}}\\\",\\n  \\\"doctor\\\": \\\"{{doctorId}}\\\",\\n  \\\"appointmentDate\\\": \\\"2025-12-01\\\",\\n  \\\"appointmentTime\\\": \\\"10:00\\\",\\n  \\\"duration\\\": 30,\\n  \\\"reason\\\": \\\"Regular checkup\\\"\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/appointments",
              "host": ["{{baseUrl}}"],
              "path": ["api", "appointments"]
            }
          }
        },
        {
          "name": "Create Appointment - Non-existent Patient",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 404', () => {",
                  "  pm.response.to.have.status(404);",
                  "});",
                  "pm.test('Patient not found error', () => {",
                  "  pm.expect(pm.response.json().message).to.include('Patient not found');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"patient\\\": \\\"507f1f77bcf86cd799439011\\\",\\n  \\\"doctor\\\": \\\"{{doctorId}}\\\",\\n  \\\"appointmentDate\\\": \\\"2025-12-01\\\",\\n  \\\"appointmentTime\\\": \\\"10:00\\\",\\n  \\\"duration\\\": 30,\\n  \\\"reason\\\": \\\"Checkup\\\"\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/appointments",
              "host": ["{{baseUrl}}"],
              "path": ["api", "appointments"]
            }
          }
        },
        {
          "name": "Create Appointment - Non-existent Doctor",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 404', () => {",
                  "  pm.response.to.have.status(404);",
                  "});",
                  "pm.test('Doctor not found error', () => {",
                  "  pm.expect(pm.response.json().message).to.include('Doctor not found');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"patient\\\": \\\"{{patientId}}\\\",\\n  \\\"doctor\\\": \\\"507f1f77bcf86cd799439011\\\",\\n  \\\"appointmentDate\\\": \\\"2025-12-01\\\",\\n  \\\"appointmentTime\\\": \\\"10:00\\\",\\n  \\\"duration\\\": 30,\\n  \\\"reason\\\": \\\"Checkup\\\"\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/appointments",
              "host": ["{{baseUrl}}"],
              "path": ["api", "appointments"]
            }
          }
        },
        {
          "name": "Get Appointment by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Returns appointment details', () => {",
                  "  const data = pm.response.json().data;",
                  "  pm.expect(data).to.have.property('_id');",
                  "  pm.expect(data).to.have.property('patient');",
                  "  pm.expect(data).to.have.property('doctor');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/appointments/{{appointmentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "appointments", "{{appointmentId}}"]
            }
          }
        },
        {
          "name": "Get Appointment - Non-existent",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test('Status code is 404', () => {", "  pm.response.to.have.status(404);", "});"]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/appointments/507f1f77bcf86cd799439011",
              "host": ["{{baseUrl}}"],
              "path": ["api", "appointments", "507f1f77bcf86cd799439011"]
            }
          }
        },
        {
          "name": "Update Appointment Status to Completed",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Status updated to completed', () => {",
                  "  pm.expect(pm.response.json().data.status).to.equal('completed');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"status\\\": \\\"completed\\\"\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/appointments/{{appointmentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "appointments", "{{appointmentId}}"]
            }
          }
        },
        {
          "name": "Update Appointment Status to Cancelled",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Status updated to cancelled', () => {",
                  "  pm.expect(pm.response.json().data.status).to.equal('cancelled');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"status\\\": \\\"cancelled\\\"\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/appointments/{{appointmentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "appointments", "{{appointmentId}}"]
            }
          }
        },
        {
          "name": "Update Appointment Reason",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Reason updated', () => {",
                  "  pm.expect(pm.response.json().data.reason).to.equal('Follow-up consultation');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"reason\\\": \\\"Follow-up consultation\\\"\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/appointments/{{appointmentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "appointments", "{{appointmentId}}"]
            }
          }
        },
        {
          "name": "Get Doctor Schedule",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Schedule includes doctor and appointments', () => {",
                  "  const data = pm.response.json().data;",
                  "  pm.expect(data).to.have.property('doctor');",
                  "  pm.expect(data).to.have.property('appointments');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/appointments/doctor/{{doctorId}}/schedule",
              "host": ["{{baseUrl}}"],
              "path": ["api", "appointments", "doctor", "{{doctorId}}", "schedule"]
            }
          }
        },
        {
          "name": "Filter Doctor Schedule by Date",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test('Status code is 200', () => {", "  pm.response.to.have.status(200);", "});"]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/appointments/doctor/{{doctorId}}/schedule?date=2025-12-01",
              "host": ["{{baseUrl}}"],
              "path": ["api", "appointments", "doctor", "{{doctorId}}", "schedule"],
              "query": [
                {
                  "key": "date",
                  "value": "2025-12-01"
                }
              ]
            }
          }
        },
        {
          "name": "List All Appointments",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Returns array of appointments', () => {",
                  "  pm.expect(pm.response.json().data).to.be.an('array');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/appointments",
              "host": ["{{baseUrl}}"],
              "path": ["api", "appointments"]
            }
          }
        },
        {
          "name": "Filter Appointments by Patient",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test('Status code is 200', () => {", "  pm.response.to.have.status(200);", "});"]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/appointments?patient={{patientId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "appointments"],
              "query": [
                {
                  "key": "patient",
                  "value": "{{patientId}}"
                }
              ]
            }
          }
        },
        {
          "name": "Filter Appointments by Date",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test('Status code is 200', () => {", "  pm.response.to.have.status(200);", "});"]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/appointments?date=2025-12-01",
              "host": ["{{baseUrl}}"],
              "path": ["api", "appointments"],
              "query": [
                {
                  "key": "date",
                  "value": "2025-12-01"
                }
              ]
            }
          }
        },
        {
          "name": "Paginate Appointments",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Pagination metadata exists', () => {",
                  "  pm.expect(pm.response.json()).to.have.property('currentPage');",
                  "  pm.expect(pm.response.json()).to.have.property('totalPages');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/appointments?page=1&limit=5",
              "host": ["{{baseUrl}}"],
              "path": ["api", "appointments"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          }
        },
        {
          "name": "Delete Appointment",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test('Status code is 200', () => {", "  pm.response.to.have.status(200);", "});"]
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/appointments/{{appointmentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "appointments", "{{appointmentId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Error Handler Tests",
      "item": [
        {
          "name": "CastError - Invalid ObjectId",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 400 or 404', () => {",
                  "  pm.expect([400, 404]).to.include(pm.response.code);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/patients/invalid-id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "patients", "invalid-id"]
            }
          }
        },
        {
          "name": "Duplicate Key Error",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 400', () => {",
                  "  pm.response.to.have.status(400);",
                  "});",
                  "pm.test('Duplicate error message', () => {",
                  "  pm.expect(pm.response.json().message).to.include('already exists');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\\n  \\\"name\\\": \\\"Dr. Duplicate\\\",\\n  \\\"email\\\": \\\"john.smith@hospital.com\\\",\\n  \\\"password\\\": \\\"password123\\\",\\n  \\\"specialization\\\": \\\"General\\\",\\n  \\\"licenseNumber\\\": \\\"LIC999\\\",\\n  \\\"phone\\\": \\\"+1111111111\\\"\\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "register"]
            }
          }
        }
      ]
    },
    {
      "name": "Middleware Tests",
      "item": [
        {
          "name": "Health Check",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', () => {",
                  "  pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Server is running', () => {",
                  "  pm.expect(pm.response.json().success).to.be.true;",
                  "  pm.expect(pm.response.json().message).to.equal('Server is running');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            }
          }
        },
        {
          "name": "Auth Middleware - No Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 401', () => {",
                  "  pm.response.to.have.status(401);",
                  "});",
                  "pm.test('Unauthorized message', () => {",
                  "  pm.expect(pm.response.json().message).to.include('Not authorized');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "me"]
            }
          }
        },
        {
          "name": "Auth Middleware - Invalid Bearer Format",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test('Status code is 401', () => {", "  pm.response.to.have.status(401);", "});"]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Token {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "me"]
            }
          }
        },
        {
          "name": "404 Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 404', () => {",
                  "  pm.response.to.have.status(404);",
                  "});",
                  "pm.test('Not found message', () => {",
                  "  pm.expect(pm.response.json().message).to.include('not found');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctorToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/non-existent-route",
              "host": ["{{baseUrl}}"],
              "path": ["api", "non-existent-route"]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:5000"
    },
    {
      "key": "doctorToken",
      "value": ""
    },
    {
      "key": "doctorId",
      "value": ""
    },
    {
      "key": "patientId",
      "value": ""
    },
    {
      "key": "appointmentId",
      "value": ""
    },
    {
      "key": "recordId",
      "value": ""
    }
  ]
}
